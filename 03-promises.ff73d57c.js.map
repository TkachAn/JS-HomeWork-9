{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,MAAM,GACvBC,iBAAiB,UAAWC,IAChCA,EAAMC,iBACN,MACCC,UAAUC,MAACA,EAAKC,KAACA,EAAIC,OAACA,IACnBL,EAAMM,cACVC,QAAQC,IAAI,SAAUL,EAAMM,OAC5B,MAAMC,EAAKP,EAAMM,MACXE,EAAKN,EAAOI,MACZG,EAAKR,EAAKK,MAChBT,EAAMM,cAAcO,QACpBC,YAAW,KAGTC,EAAcL,EAAIC,EAAIC,GACrBI,KAAK,uBAAqBN,MAASC,QAASC,OAAQK,MAElD,sBAAKP,MAAwBC,QAAOC,SAGtCF,MAEJ,MAAMK,EAAgB,CAACZ,EAAOe,EAASC,IAC9B,IAAIC,SAAQ,CAACC,EAASC,KAC3Bf,QAAQC,IAAI,SAASW,KACxB,IAAII,EAAM,EAGR5B,EAAA6B,OAAOC,QAAQ,eAAetB,KAC/B,IAAIuB,EAAUC,aAAY,KACHC,KAAKC,SAAW,IAErCR,EAAQ,qBAAqBH,QAAeC,KAC5CZ,QAAQC,IAAI,gBAAiBe,EAAK,OAAQA,EAAMJ,EAAUW,OAAO3B,IACjER,EAAA6B,OAAOC,QAAQ,qBAAqBF,QAAUA,EAAMJ,EAAUW,OAAO3B,QAErEmB,EAAO,oBAAoBJ,QAAeC,KAC1CZ,QAAQC,IAAI,eAAgBe,EAAK,OAAQA,EAAMJ,EAAUW,OAAO3B,IAChER,EAAA6B,OAAOO,QAAQ,oBAAoBR,QAAUA,EAAMJ,EAAUW,OAAO3B,OAGjEoB,EAAML,EAAS,GAClBc,cAAcN,GAEfH,MACCJ","sources":["src/js/03-promises.js"],"sourcesContent":["//import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n// const form = document.querySelector(\".form\");\nconst form = document.forms[0];\nform.addEventListener(\"submit\", (event) => {\n\tevent.preventDefault();\n\tconst {\n\t\telements: {delay,step,amount}\n\t} = event.currentTarget;\n\tconsole.log(\"delay \", delay.value);\n\tconst dv = delay.value;\n\tconst av = amount.value;\n\tconst sv = step.value;\n\tevent.currentTarget.reset();\n\tsetTimeout(() => {\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tresolve({ av, sv });\n\t\t\tcreatePromise(dv, av, sv)\n\t\t\t.then(`✅ Fulfilled promise ${dv}  ${av} in ${sv}ms`)\n\t\t\t\n\t\t\t.catch(`❌ Rejected promise ${dv}  ${av} in ${sv}ms`)\n\t\t\t;\n\t\t//})\n\t}, dv);\n});//.\nconst createPromise = (delay, position,stepDelay )=> {\n  return new Promise((resolve, reject) => {\n    console.log(`delay ${stepDelay}`);\n\tlet cnt = 1;\n\t\t// const av = amount.value;\n\t\t// const sv = step.value;\n\t  Notify.success(`First delay ${delay}`);\n\t\tlet counter = setInterval(() => {\n\t\t\tconst shouldResolve = Math.random() > 0.3;\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve(`Fulfilled promise ${position} in ${stepDelay}`);\n\t\t\t\tconsole.log(\"resolve step:\", cnt, \" ms:\", cnt * stepDelay+Number(delay));\n\t\t\t\tNotify.success(`Fulfilled promise ${cnt} in ${cnt * stepDelay+Number(delay)}`);\t// Fulfill\n\t\t\t} else {\n\t\t\t\treject(`rejected promise ${position} in ${stepDelay}`);\n\t\t\t\tconsole.log(\"reject step:\", cnt, \" ms:\", cnt * stepDelay+Number(delay));\n\t\t\t\tNotify.failure(`rejected promise ${cnt} in ${cnt * stepDelay+Number(delay)}`);\t// Reject\n\t\t\t}\n\t\t\t// console.log(\"step:\", cnt,\" ms:\", cnt*delay);\n\t\t\tif (cnt > position-1) {\n\t\t\t\tclearInterval(counter);\n\t\t\t}\n\t\t\tcnt++;\n\t\t},stepDelay)\n  });\n\t\n};\n"],"names":["$iQIUW","parcelRequire","document","forms","addEventListener","event","preventDefault","elements","delay","step","amount","currentTarget","console","log","value","dv","av","sv","reset","setTimeout","$47d4ff9957288465$var$createPromise","then","catch","position","stepDelay","Promise","resolve","reject","cnt","Notify","success","counter","setInterval","Math","random","Number","failure","clearInterval"],"version":3,"file":"03-promises.ff73d57c.js.map"}